<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Binary Trading Chart</title>
    <script src="https://code.highcharts.com/stock/highstock.js"></script>
    <script src="https://code.highcharts.com/stock/modules/exporting.js"></script>
</head>
<body>
    <div id="container" style="height: 400px; min-width: 310px"></div>

    <script>
        async function fetchForexData(symbol) {
            const apiKey = 'YOUR_ALPHA_VANTAGE_API_KEY';
            const url = `https://www.alphavantage.co/query?function=FX_INTRADAY&from_symbol=${symbol}&to_symbol=USD&interval=1min&apikey=${apiKey}`;
            const response = await fetch(url);
            const data = await response.json();
            
            const timeSeries = data['Time Series FX (1min)'];
            const forexData = Object.keys(timeSeries).map(time => {
                const point = timeSeries[time];
                return [
                    new Date(time).getTime(), // Timestamp
                    parseFloat(point['1. open']), // Open
                    parseFloat(point['2. high']), // High
                    parseFloat(point['3. low']), // Low
                    parseFloat(point['4. close']) // Close
                ];
            });
            return forexData.reverse(); // Reverse to chronological order
        }

        async function createChart(symbol) {
            const forexData = await fetchForexData(symbol);

            Highcharts.stockChart('container', {
                rangeSelector: {
                    selected: 1
                },

                title: {
                    text: symbol + ' Forex Live Chart'
                },

                series: [{
                    type: 'candlestick',
                    name: symbol + ' to USD',
                    data: forexData,
                    tooltip: {
                        valueDecimals: 4
                    }
                }]
            });
        }

        createChart('EUR'); // Default to EUR/USD
    </script>
</body>
</html>
